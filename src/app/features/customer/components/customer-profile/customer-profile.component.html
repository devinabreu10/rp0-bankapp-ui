<main class="mx-auto my-8 max-w-4xl p-6">
  <p-toast position="top-center" />

  <div class="mb-8 flex items-center">
    <div
      class="flex h-12 w-12 items-center justify-center rounded-full border-[3px] border-martinique-900 dark:border-putty-200"
    >
      <i class="pi pi-user text-[2.2rem] text-martinique-900 dark:text-putty-200"></i>
    </div>

    <h1 class="ml-4 text-3xl font-semibold text-martinique-900 dark:text-putty-200">
      My Profile
    </h1>
  </div>

  <div
    class="rounded-xl bg-white p-8 shadow-md ring-1 ring-slate-700/10 dark:bg-primaryDark dark:ring-secondaryDark/30"
  >
    <form [formGroup]="customerProfileForm" (ngSubmit)="onSubmit(customerProfileForm.value)">
      <div class="form-grid">
        <!-- First Name -->
        <div class="mb-6">
          <label
            for="firstName"
            class="mb-2 block font-medium text-martinique-800 dark:text-putty-200"
            >First Name</label
          >
          <div class="relative">
            <span class="p-input-icon-left w-full">
              <i class="pi pi-user text-martinique-600 dark:text-putty-300"></i>
              <input
                pInputText
                id="firstName"
                formControlName="firstName"
                [ngClass]="{
                  'ng-invalid ng-dirty': isInvalidAndTouched('firstName'),
                }"
                class="w-full rounded-lg border border-martinique-200 px-3 py-3 transition-colors focus:border-martinique-500 focus:ring-2 focus:ring-martinique-300 dark:border-martinique-800 dark:bg-martinique-950 dark:text-secondaryDark dark:focus:border-putty-300 dark:focus:ring-putty-400/30"
              />
            </span>
          </div>
          @if (isInvalidAndTouched("firstName")) {
            <span class="mt-1 block p-0 text-sm text-red-500 dark:text-red-400"
              >First name is required</span
            >
          }
        </div>
        <!-- Last Name -->
        <div class="mb-6">
          <label
            for="lastName"
            class="mb-2 block font-medium text-martinique-800 dark:text-putty-200"
            >Last Name</label
          >
          <div class="relative">
            <span class="p-input-icon-left w-full">
              <i class="pi pi-user text-martinique-600 dark:text-putty-300"></i>
              <input
                pInputText
                id="lastName"
                formControlName="lastName"
                [ngClass]="{
                  'ng-invalid ng-dirty': isInvalidAndTouched('lastName'),
                }"
                class="w-full rounded-lg border border-martinique-200 px-3 py-3 transition-colors focus:border-martinique-500 focus:ring-2 focus:ring-martinique-300 dark:border-martinique-800 dark:bg-martinique-950 dark:text-secondaryDark dark:focus:border-putty-300 dark:focus:ring-putty-400/30"
              />
            </span>
          </div>
          @if (isInvalidAndTouched("lastName")) {
            <span class="mt-1 block p-0 text-sm text-red-500 dark:text-red-400"
              >Last name is required</span
            >
          }
        </div>
        <!-- Username (read-only) -->
        <div class="mb-6">
          <label
            for="username"
            class="mb-2 block font-medium text-martinique-800 dark:text-putty-200"
            >Username</label
          >
          <div class="relative">
            <span class="p-input-icon-left w-full">
              <i class="pi pi-id-card text-martinique-600 dark:text-putty-300"></i>
              <input
                id="username"
                formControlName="username"
                class="w-full cursor-not-allowed rounded-lg border border-martinique-200 bg-martinique-50 px-3 py-3 opacity-90 focus:outline-none dark:border-martinique-800 dark:bg-martinique-900 dark:text-secondaryDark"
                readonly
              />
            </span>
          </div>
        </div>
        <!-- Address -->
        <div class="mb-6">
          <label
            for="address"
            class="mb-2 block font-medium text-martinique-800 dark:text-putty-200"
            >Address</label
          >
          <div class="relative">
            <span class="p-input-icon-left textarea-container w-full">
              <i class="pi pi-map-marker text-martinique-600 dark:text-putty-300"></i>
              <textarea
                pInputTextarea
                id="address"
                formControlName="address"
                rows="3"
                class="w-full rounded-lg border border-martinique-200 px-3 py-3 transition-colors focus:border-martinique-500 focus:ring-2 focus:ring-martinique-300 dark:border-martinique-800 dark:bg-martinique-950 dark:text-secondaryDark dark:focus:border-putty-300 dark:focus:ring-putty-400/30"
              ></textarea>
            </span>
          </div>
        </div>
      </div>
      <!-- Buttons -->
      <div class="mt-8 flex gap-4">
        <button
          type="submit"
          class="p-button flex w-full items-center justify-center rounded-lg bg-martinique-700 px-6 py-3 font-medium text-primaryLight shadow-sm transition-all hover:bg-martinique-800 focus:outline-none focus:ring-2 focus:ring-martinique-500 focus:ring-offset-2 disabled:opacity-70 dark:bg-accent dark:text-primaryDark dark:hover:bg-putty-200 dark:focus:shadow-lara-dark-accent-btn dark:focus:ring-putty-300 dark:focus:ring-offset-primaryDark"
          [disabled]="customerProfileForm.invalid"
        >
          <i class="pi pi-save mr-2" aria-hidden="true"></i>
          Update Profile
        </button>
      </div>
    </form>
  </div>
</main>
